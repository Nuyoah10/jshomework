<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<h2>运动时间</h2>
		<p class="p">?????</p>
		<h1>四则运算</h1>
		<input type="text" class="num1">
		<select name="operation" id="operation">
			<option value="plus">+</option>
			<option value="subtract">-</option>
			<option value="multiply">*</option>
			<option value="divide">/</option>
		</select>
		<input type="text" class="num2">
		<button class="submit">=</button>
		<input type="text" class="result">
		<hr>
		<h1>4.3</h1>
		<p class="ooo">点击刷新出现数字</p><button class="www">点击刷新</button>
		<script>
		document.write('<h1>JS练习题4</h1>')
	    {
	        document.write('<h2>4.1</h2>');
			document.write('<br>')
	        let input = document.createElement('input'); 
	        let btn = document.createElement('button'); 
	        btn.innerHTML = '逆序';
	        document.body.appendChild(input);
	        document.body.appendChild(btn);
	        btn.onclick = function () {
	            input.value = input.value.split('.').reverse().join('.');
	        }
	    }
			document.write('<hr>');

			// 
			{
			    document.write('<h2>4.2</h2>');
			    let input = document.createElement('input'); 
			    let btn = document.createElement('button'); 
			    btn.innerHTML = '替换';
			    document.body.appendChild(input);
			    document.body.appendChild(btn);
			    btn.onclick = function () {
			        let regValue = /(\d{1,3}\.){3}\d{1,3}$/;
			        let arrIP = input.value.split('.');
			        for(let i = 0; i < arrIP.length; i++){
			            if(arrIP[i] < 0 || arrIP[i] > 255){
			                alert('请输入0~255！');
			                input.value = '';
			                return;
			            }
			        }
			        if(!regValue.test(input.value)){
			            alert('你输入的不是正确ip格式！');
			            input.value = '';
			        } else{
			            input.value = input.value.slice(0, input.value.lastIndexOf('.') + 1) + '*';
			        }
			    }
			}
			document.write('<hr>');

		{
		    document.write('<h2>4.4</h2>');
		    let input = document.createElement('input'); 
		    let btn = document.createElement('button'); 
		    let p = document.createElement('p');
		    btn.innerHTML = '确认';
		    document.body.appendChild(input);
		    document.body.appendChild(btn);
		    document.body.appendChild(p);
		    btn.onclick = () => {
		        let regValue = /^.{2,10}$/;
		        p.innerHTML = `字符串长度${regValue.test(input.value) ? '' : '不'}符合要求`;
		    }
		}
			
			document.write('<h2>5.2</h2>')
			const p = document.querySelector('p');
			let ll = Math.floor(Math.random() * (9999 - 1000)) + 1000;
			document.querySelector('.www').addEventListener('click', function(){
				document.querySelector('.ooo').textContent = ll;
				ll = Math.floor(Math.random() * (9999 - 1000)) + 1000;
			})
			

			//四则运算
			let num1 = document.querySelector('.num1');
			let num2 = document.querySelector('.num2');
			let result = document.querySelector('.result');
			let operation = document.querySelector('#operation');
			let btn = document.querySelector('.submit');
			btn.onclick = () => {
				let [v1, v2] = [+num1.value.trim(), +num2.value.trim()];
				if (num1.value === '' || isNaN(v1)) {
					result.value = '';
					alert('您第一个输入框中不是数字，请重新输入！');
					return;
				}
				if (num2.value === '' || isNaN(v2)) {
					result.value = '';
					alert('您第二个输入框中不是数字，请重新输入！');
					return;
				}
				if (v2 === 0 && operation.value === 'divide') {
					result.value = '';
					alert('除法第二个值不能为零！');
					return;
				}
				switch (operation.value) {
					case 'plus':
						result.value = v1 + v2;
						break;
					case 'subtract':
						result.value = v1 - v2;
						break;
					case 'multiply':
						result.value = v1 * v2;
						break;
					case 'divide':
						result.value = v1 / v2;
						break;
				}
			}
			{
				function a() {
					let d = new Date();
					let mon = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
					let week = '日一二三四五六';
					let a = d.getSeconds();
					let b = d.getFullYear();
					let c = d.getMonth() - 1;
					let e = d.getDate();
					let f = d.getHours();
					let g = d.getMinutes();
					let l = d.getDay();
					document.querySelector('.p').textContent = `${b}年 | ${c}月 | ${e}日 | ${f}:${g}:${a}`;
	
								
				} 
				a();
				setInterval(a, 1000)
			}
		</script>
	</body>
</html>
